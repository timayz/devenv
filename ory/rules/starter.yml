 - id: "starter:root"
   upstream:
     preserve_host: true
     url: "http://host.docker.internal:3000"
   match:
     url: "https://timada.localhost/starter"
     methods:
       - GET
       - POST
       - PUT
       - DELETE
       - PATCH
   authenticators:
     - handler: cookie_session
   authorizer:
     handler: allow
   mutators:
     - handler: id_token
   errors:
     - handler: redirect
       config:
         to: https://timada.localhost/oath/login
 
 - id: "starter:reload"
   upstream:
     preserve_host: true 
     url: "http://host.docker.internal:3001"
     strip_path: /starter-reload
   match:
     url: "https://ws.timada.localhost/starter-reload/<**>"
     methods:
       - GET
   authenticators:
     - handler: cookie_session
   authorizer:
     handler: allow
   mutators:
     - handler: noop
   errors:
     - handler: redirect
       config:
         to: https://timada.localhost/oath/login
 
 - id: "starter:pkg"
   upstream:
     preserve_host: true
     url: "http://host.docker.internal:3000"
   match:
     url: "https://timada.localhost/starter-pkg/<**>"
     methods:
       - GET
       - POST
       - PUT
       - DELETE
       - PATCH
   authenticators:
     - handler: cookie_session
   authorizer:
     handler: allow
   mutators:
     - handler: id_token
   errors:
     - handler: redirect
       config:
         to: https://timada.localhost/oath/login
 
 - id: "starter:all"
   upstream:
     preserve_host: true
     url: "http://host.docker.internal:3000"
     strip_path: /starter
   match:
     url: "https://timada.localhost/starter/<**>"
     methods:
       - GET
       - POST
       - PUT
       - DELETE
       - PATCH
   authenticators:
     - handler: cookie_session
   authorizer:
     handler: allow
   mutators:
     - handler: id_token
   errors:
     - handler: redirect
       config:
         to: https://timada.localhost/oath/login
